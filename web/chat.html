<!DOCTYPE html>
<html>
<head>
    <title>Chat Client</title>
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/notify.min.js"></script>
    <script>
        var socket;

        function connectToServer() {
            socket = new WebSocket("ws://" + window.location.hostname + ":"+window.location.port+"/rs");

            socket.onopen = function (event) {
                document.getElementById("mychat").innerHTML += "Connected!";
            };

            socket.onmessage = function (event) {
                $.notify(event.data);
                //document.getElementById("mychat").innerHTML += event.data + "<br />";
            };

            socket.onclose = function (event) {
                document.getElementById("mychat").innerHTML += "Disconnected!";
            };
        }

        function sendMessage() {
            socket.send("Miller: " + document.chatform.message.value);
            return false;
        }
    </script>
</head>
<body onload="connectToServer()">
<form name="chatform" onsubmit="return sendMessage();">
    <input type="text" name="message" value="Type Here!"/><br/>
    <input type="submit" name="submit" value="Send Message"/>
</form>
<br/>
<div id="mychat"></div>
</body>
</html>